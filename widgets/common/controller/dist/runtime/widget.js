define(["jimu-core","jimu-ui"],(function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=313)}({135:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var a,l=n(3),s=n(4),d=n(32),c=n(25),p=n(39),u=n(55),f=n(33),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getStyle=function(){var e=t.props,n=e.vertical,o=e.showArrow;return l.css(a||(a=r(["\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: ",";\n      justify-content: ",";\n      align-items: center;\n      > button.icon-btn {\n        &:focus {\n          outline: none;\n        }\n        z-index: 1;\n        flex-grow: 0;\n        flex-shrink: 0;\n        padding: ",";\n        width: ",";\n        height: ",";\n      }\n      .content {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        flex-grow:  0;\n        flex-shrink: 1;\n        flex-wrap: nowrap;\n        flex-direction: ",";\n      }\n    "],["\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: ",";\n      justify-content: ",";\n      align-items: center;\n      > button.icon-btn {\n        &:focus {\n          outline: none;\n        }\n        z-index: 1;\n        flex-grow: 0;\n        flex-shrink: 0;\n        padding: ",";\n        width: ",";\n        height: ",";\n      }\n      .content {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        flex-grow:  0;\n        flex-shrink: 1;\n        flex-wrap: nowrap;\n        flex-direction: ",";\n      }\n    "])),n?"column":"row",o?"space-between":"center",n?"0.2rem 0.5rem":"0.5rem 0.2rem",n?"unset":d.ARROW_ICON_SIZE+"px",n?d.ARROW_ICON_SIZE+"px":"unset",n?"column":"row")},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.vertical,n=e.className,o=e.showArrow,i=e.disablePrevious,r=e.disableNext,a=e.onArrowClick,d=e.innerRef,h=e.placeholder,g=t?u:c,v=t?f:p;return l.jsx("div",{ref:d,css:this.getStyle(),className:l.classNames("roll-list",n)},o&&l.jsx(s.Button,{icon:!0,type:"tertiary",disabled:i,onClick:function(){return a(!0)}},l.jsx(s.Icon,{size:14,icon:g})),l.jsx("div",{className:"content"},this.props.children,h&&h),o&&l.jsx(s.Button,{icon:!0,type:"tertiary",disabled:r,onClick:function(){return a(!1)}},l.jsx(s.Icon,{size:14,icon:v})))},t.defaultProps={vertical:!1,onArrowClick:function(){}},t}(l.React.PureComponent);t.RollList=h},136:function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3),a=n(4),l=n(56);t.Placeholder=function(e){var t=e.text,n=e.theme,s=n?n.colors.palette.dark[200]:"",d=r.css(i||(i=o(["\n    position: absolute;\n    top: 50%;\n    bottom: 50%;\n    left: 20px;\n    display: flex;\n    align-items: center;\n    .placeholder-icon {\n      width: ",";\n      height: ",";\n      border: 1px "," dashed;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      .jimu-icon {\n        color: ",";\n      }\n    }\n    .placeholder-text {\n      margin-left: ",";\n    }\n  "],["\n    position: absolute;\n    top: 50%;\n    bottom: 50%;\n    left: 20px;\n    display: flex;\n    align-items: center;\n    .placeholder-icon {\n      width: ",";\n      height: ",";\n      border: 1px "," dashed;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      .jimu-icon {\n        color: ",";\n      }\n    }\n    .placeholder-text {\n      margin-left: ",";\n    }\n  "])),r.polished.rem(40),r.polished.rem(40),s,s,r.polished.rem(16));return r.jsx("div",{css:d,className:"placeholder"},r.jsx("div",{className:"placeholder-icon"},r.jsx(a.Icon,{icon:l,size:"14"})),r.jsx("span",{className:"placeholder-text"},t))}},137:function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3),a=n(4),l=n(73);t.PopperHeader=function(e){var t=e.className,n=e.theme,s=e.onClose,d=e.text,c=n?n.colors.palette.primary[600]:"",p=n?n.colors.white:"",u=r.css(i||(i=o(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: ",";\n    user-select: none;\n    touch-action: none;\n    background: ",";\n    padding: "," ",";\n    color: ",";\n    > span {\n      margin-right:",";\n    }\n    .close-div {\n      cursor: pointer;\n    }\n  "],["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: ",";\n    user-select: none;\n    touch-action: none;\n    background: ",";\n    padding: "," ",";\n    color: ",";\n    > span {\n      margin-right:",";\n    }\n    .close-div {\n      cursor: pointer;\n    }\n  "])),r.polished.rem(48),c,r.polished.rem(13),r.polished.rem(20),p,r.polished.rem(20));return r.jsx("div",{css:u,className:t},r.jsx("span",{className:"title text-truncate",title:d},d),r.jsx("div",{className:"close-div",onClick:s},r.jsx(a.Icon,{icon:l,size:"16"})))}},138:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(62),l=n(4),s=n(40),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.stopPropagation(),t.props.onWidgetClick&&t.props.onWidgetClick(e.currentTarget,t.props.widgetid)},t}return i(t,e),t.prototype.render=function(){var e,t,n,o=this.props,i=o.widgetJson,d=o.showMarker,c=o.onRemoveWidget,p=o.widgetid,u=o.showLabel,f=o.labelGrowth,h=o.avatar;return i?r.React.createElement(a.AvatarCard,{widgetid:p,showLabel:u,labelGrowth:f,avatar:h,label:i.label,icon:i.icon,autoFlip:null===(n=null===(t=null===(e=i)||void 0===e?void 0:e.manifest)||void 0===t?void 0:t.properties)||void 0===n?void 0:n.flipIcon,marker:d?s:"",onMarkerClick:c,onClick:this.handleClick}):r.React.createElement(l.Loading,null)},t}(r.React.PureComponent);t.WidgetAvatarCard=r.ReactRedux.connect((function(e,t){var n=t.widgetid;return{widgetJson:e.appConfig.widgets[n]}}))(d)},139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Stack="STACK",e.SideBySide="SIDEBYSIDE"}(t.DisplayType||(t.DisplayType={}))},25:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M4.916 7l5.052 5.125c.31.315.31.825 0 1.14a.786.786 0 01-1.123 0L3.232 7.568a.814.814 0 010-1.138L8.845.736a.786.786 0 011.123 0c.31.314.31.824 0 1.139L4.916 7z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},3:function(t,n){t.exports=e},313:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var a,l,s,d,c,p,u,f=n(3),h=n(314),g=n(74),v=n(32),b=n(4),m=n(318),y=function(e){function t(t){var n=e.call(this,t)||this;return n.advancedStyle=function(){var e,t,o,i,p,u,h,g,v,m,y,w,O,x,_,I,j=n.props.config;if(!(null===(e=j)||void 0===e?void 0:e.appearance.advanced))return f.css(a||(a=r([""],[""])));var P=((null===(o=null===(t=j)||void 0===t?void 0:t.appearance)||void 0===o?void 0:o.card)||{}).variants,R=((null===(u=null===(p=null===(i=j)||void 0===i?void 0:i.appearance)||void 0===p?void 0:p.card)||void 0===u?void 0:u.avatar)||{}).type,C=null===(h=P)||void 0===h?void 0:h[void 0===R?"primary":R],S=null===(g=C)||void 0===g?void 0:g.default,M=null===(v=C)||void 0===v?void 0:v.active,W=null===(m=C)||void 0===m?void 0:m.hover;return f.css(c||(c=r(["\n      .avatar-card:not(.add-widget-btn) {\n        ","\n          ","\n          ","\n      }\n    "],["\n      .avatar-card:not(.add-widget-btn) {\n        ","\n          ","\n          ","\n      }\n    "])),S&&f.css(l||(l=r(["\n            > .avatar {\n              > .avatar-button {\n                background-color: ",";\n                border-color: ",";\n              }\n            }\n            > .avatar-label {\n              color: ",";\n              font-style: ",";\n              font-weight: ",";\n              text-decoration: ",";\n            }\n          "],["\n            > .avatar {\n              > .avatar-button {\n                background-color: ",";\n                border-color: ",";\n              }\n            }\n            > .avatar-label {\n              color: ",";\n              font-style: ",";\n              font-weight: ",";\n              text-decoration: ",";\n            }\n          "])),S.bg,S.bg,S.color,(null===(y=S)||void 0===y?void 0:y.italic)?"italic":"normal",(null===(w=S)||void 0===w?void 0:w.bold)?"bold":"normal",b.styleUtils.toCSSTextUnderLine({underline:S.underline,strike:S.strike})),W&&f.css(s||(s=r(["\n            &:hover {\n              > .avatar {\n                > .avatar-button {\n                  background-color: ",";\n                  border-color: ",";\n                }\n              }\n              > .avatar-label {\n                color: ",";\n                font-style: ",";\n                font-weight: ",";\n                text-decoration: ",";\n              }\n            }\n          "],["\n            &:hover {\n              > .avatar {\n                > .avatar-button {\n                  background-color: ",";\n                  border-color: ",";\n                }\n              }\n              > .avatar-label {\n                color: ",";\n                font-style: ",";\n                font-weight: ",";\n                text-decoration: ",";\n              }\n            }\n          "])),W.bg,W.bg,W.color,(null===(O=W)||void 0===O?void 0:O.italic)?"italic":"normal",(null===(x=W)||void 0===x?void 0:x.bold)?"bold":"normal",b.styleUtils.toCSSTextUnderLine({underline:W.underline,strike:W.strike})),M&&f.css(d||(d=r(['\n              > .avatar {\n                > .avatar-button {\n                  &:not(:disabled):not(.disabled):active,\n                  &:not(:disabled):not(.disabled).active,\n                  &[aria-expanded="true"] {\n                      background-color: ',";\n                      border-color: ",";\n                    }\n                  }\n              }\n              > .avatar-label {\n                &:not(:disabled):not(.disabled):active,\n                &:not(:disabled):not(.disabled).active {\n                  color: ",";\n                  font-style: ",";\n                  font-weight: ",";\n                  text-decoration: ",";\n                }\n              }\n          "],['\n              > .avatar {\n                > .avatar-button {\n                  &:not(:disabled):not(.disabled):active,\n                  &:not(:disabled):not(.disabled).active,\n                  &[aria-expanded="true"] {\n                      background-color: ',";\n                      border-color: ",";\n                    }\n                  }\n              }\n              > .avatar-label {\n                &:not(:disabled):not(.disabled):active,\n                &:not(:disabled):not(.disabled).active {\n                  color: ",";\n                  font-style: ",";\n                  font-weight: ",";\n                  text-decoration: ",";\n                }\n              }\n          "])),M.bg,M.bg,M.color,(null===(_=M)||void 0===_?void 0:_.italic)?"italic":"normal",(null===(I=M)||void 0===I?void 0:I.bold)?"bold":"normal",b.styleUtils.toCSSTextUnderLine({underline:M.underline,strike:M.strike})))},n.getStyle=function(){var e,t,o=null===(t=null===(e=n.props.config)||void 0===e?void 0:e.behavior)||void 0===t?void 0:t.vertical;return f.css(u||(u=r(["\n      overflow: hidden;\n      white-space: nowrap;\n      .controller-container {\n        width: 100%;\n        height: 100%;\n        min-width: ",";\n        min-height: ",";\n      }\n      ",";\n      ",";\n    "],["\n      overflow: hidden;\n      white-space: nowrap;\n      .controller-container {\n        width: 100%;\n        height: 100%;\n        min-width: ",";\n        min-height: ",";\n      }\n      ",";\n      ",";\n    "])),o?f.polished.rem(v.MIN_WIDGET_HEIGHT):f.polished.rem(v.MIN_WIDGET_WIDTH),o?f.polished.rem(v.MIN_WIDGET_WIDTH):f.polished.rem(v.MIN_WIDGET_HEIGHT),n.advancedStyle(),o&&f.css(p||(p=r(["\n      .roll-list {\n        .content {\n          width: 100%;\n        }\n      }\n      .layout-item-list {\n        &.icon-list {\n          width: 100%;\n        }\n      }\n        .layout-item {\n          width: 100%;\n        }\n        .avatar-card {\n            width: 100% !important;\n          }\n      "],["\n      .roll-list {\n        .content {\n          width: 100%;\n        }\n      }\n      .layout-item-list {\n        &.icon-list {\n          width: 100%;\n        }\n      }\n        .layout-item {\n          width: 100%;\n        }\n        .avatar-card {\n            width: 100% !important;\n          }\n      "]))))},n.isBuilder=function(){var e=n.props,t=e.isInBuilder,o=e.appMode;return t&&o!==f.AppMode.Run},n.translate=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:g.default[e]})},n.state={generation:0,moves:0},n}return i(t,e),t.prototype.componentDidUpdate=function(e){var t,n,o=e.appMode,i=e.browserSizeMode,r=e.bbox,a=(null===(t=e)||void 0===t?void 0:t.config.behavior)||{},l=a.onlyOpenOne,s=a.displayType,d=this.props,c=d.appMode,p=d.browserSizeMode,u=d.bbox,h=(null===(n=this.props.config)||void 0===n?void 0:n.behavior)||{},g=h.onlyOpenOne,v=h.displayType;l===g&&v===s&&c===o&&p===i||this.setState({generation:this.state.generation+1}),f.lodash.isDeepEqual(u,r)||this.setState({moves:this.state.moves+1})},t.prototype.render=function(){var e=this.props,t=e.builderSupportModules,n=e.id,o=e.config,i=this.state,r=i.moves,a=i.generation,l=this.isBuilder(),s=l&&t&&t.widgetModules.WidgetInBuilder;return f.jsx("div",{className:"widget-controller jimu-widget shadow",css:this.getStyle()},f.jsx("div",{className:"controller-container"},!l&&f.jsx(h.WidgetRuntime,{generation:this.state.generation,id:n,config:o,translate:this.translate}),l&&s&&f.jsx(s,{id:n,moves:r,generation:a,config:o,nls:this.translate})))},t.versionManager=m.versionManager,t.mapExtraStateProps=function(e,t){var n,o,i,r,a=e.widgetsRuntimeInfo||f.Immutable({}),l=e.appConfig.widgets[t.id].layouts,s=e.appConfig.layouts[f.utils.findLayoutId(l[v.BASE_LAYOUT_NAME],e.browserSizeMode,e.appConfig.mainSizeMode)],d=t.layoutId,c=t.layoutItemId,p=e&&e.appConfig,u=null;if(window.jimuConfig.isInBuilder){var h=null===(r=null===(i=null===(o=null===(n=p.layouts)||void 0===n?void 0:n[d])||void 0===o?void 0:o.content)||void 0===i?void 0:i[c])||void 0===r?void 0:r.bbox;u={left:h.left,top:h.top,width:h.width,height:h.height}}return{bbox:u,layout:s,widgetsRuntimeInfo:a,browserSizeMode:e.browserSizeMode,isInBuilder:e.appContext.isInBuilder,appMode:e.appRuntimeInfo.appMode}},t}(f.BaseWidget);t.default=y},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(315))},315:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,l=r.length;a<l;a++,i++)o[i]=r[a];return o};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),l=n(44),s=n(96),d=n(316),c=n(317),p=n(4),u=a.Immutable({left:70,top:70,offset:30,space:30}),f={width:300,height:300},h=function(e){function t(t){var n=e.call(this,t)||this;return n.getOpeningWidgets=function(){var e=n.props,t=e.layout,o=e.widgetsRuntimeInfo,i=s.getWidgetIdsFromLayout(t)||[],r=Object.keys(o).filter((function(e){var t=o[e];return!(!t||!t.state||t.state!==a.WidgetState.Opened)}));return i.filter((function(e){return r.indexOf(e)>-1}))},n.closeWidgets=function(e){e.forEach((function(e){n.closeWidget(e)}))},n.closeWidget=function(e){var t=a.appActions.closeWidget(e);a.getAppStore().dispatch(t)},n.closeOpeningWidgets=function(){var e=n.getOpeningWidgets();n.closeWidgets(e)},n.openWidgets=function(e){e.forEach((function(e){n.openWidget(e)}))},n.openWidget=function(e){var t=a.appActions.openWidget(e);a.getAppStore().dispatch(t)},n.handleClick=function(e,t){var o,i,a=n.state.openedWidgets;a.indexOf(t)<0&&(a=r(a,[t]),n.setState({openedWidgets:a})),n.setState({referenceNode:e});var l=n.props,s=l.config,d=l.mobile,c=null===(i=null===(o=s)||void 0===o?void 0:o.behavior)||void 0===i?void 0:i.onlyOpenOne,p=!!d||c,u=n.getOpeningWidgets();p?(n.closeOpeningWidgets(),u.indexOf(t)<0&&n.openWidget(t)):u.indexOf(t)<0?n.openWidget(t):n.closeWidget(t)},n.getIconUnitLength=function(){var e,t,o,i,r,a,s=((null===(e=n.props.config)||void 0===e?void 0:e.appearance)||{}).space,d=((null===(o=null===(t=n.props.config)||void 0===t?void 0:t.appearance)||void 0===o?void 0:o.card)||{}).showLabel,c=(null===(a=null===(r=null===(i=n.props.config)||void 0===i?void 0:i.appearance)||void 0===r?void 0:r.card)||void 0===a?void 0:a.avatar)||{},p=c.size,u=c.shape;return l.getItemLength(p,d,u)+s},n.calculateStartEnd=function(e,t){var o,i,r=n.props.config,a=null===(o=r)||void 0===o?void 0:o.behavior.vertical,l=null===(i=r)||void 0===i?void 0:i.appearance.space,d=s.getListContentLength(e,t,a,l),c=n.getIconUnitLength(),p=s.getOneScreenNumber(d,c);return s.calculateStartEnd(0,p)},n.onRollLayoutResize=function(e,t){if((e||t)&&s.getLayoutItemCounts(n.props.layout)){var o=n.calculateStartEnd(e,t),i=o[0],r=o[1];n.setState({start:i,end:r})}},n.onListArrowClick=function(e,t){void 0===t&&(t=!0);var o=s.getLayoutItemCounts(n.props.layout),i=n.calculateRollListState(n.state.start,n.state.end,o),r=i.disablePrevious,a=i.disableNext;if(!(r&&e||a&&!e)){var l=s.onListArrowClick(e,o,n.state.start,n.state.end,t),d=l[0],c=l[1];n.setState({start:d,end:c})}},n.calculateRollListState=function(e,t,n){var o=s.calculateRollListState(e,t,n);return{showArrow:o.showArrow,disablePrevious:o.disablePrevious,disableNext:o.disableNext}},n.genarateWidgetInfos=function(){var e=n.state.openedWidgets,t=n.getOpeningWidgets();return e.map((function(e){return{id:e,show:t.indexOf(e)>-1}}))},n.onWidgetPopperClose=function(e){n.closeWidget(e)},n.setRef=function(e){n.domNode=e&&e.parentElement},n.widgetIconList=function(){var e,t,o,i,r=n.props,c=r.layout,p=r.config,u=null===(e=p)||void 0===e?void 0:e.behavior.vertical,f=null===(t=p)||void 0===t?void 0:t.appearance.space,h=null===(i=null===(o=n.props.config)||void 0===o?void 0:o.appearance)||void 0===i?void 0:i.card,g=n.state,v=g.start,b=g.end,m=s.getLayoutItemCounts(n.props.layout),y=n.calculateRollListState(v,b,m),w=y.showArrow,O=y.disableNext,x=y.disablePrevious,_=s.getWidgetIdsFromLayout(c),I=n.getOpeningWidgets();return a.React.createElement(l.RollList,{innerRef:n.setRef,vertical:u,showArrow:w,disableNext:O,disablePrevious:x,onArrowClick:n.onListArrowClick},a.React.createElement(d.IconList,{start:v,end:b,lists:_,space:f,vertical:u,activeIds:I,onClick:n.handleClick,item:h}))},n.getWidgetTitle=function(e){var t=n.props.widgetJsons;return t&&t[e]&&t[e].label},n.getWidgetComponent=function(e){var t,o=n.props.widgetsRuntimeInfo,i=o[e]&&o[e].isClassLoaded;if(i||n.wm.loadWidgetClass(e),i){var r=n.wm.getWidgetClass(e);t=a.React.createElement(r,null)}else t=a.React.createElement("div",null,"Loading...");return t},n.openWidgetsRenderer=function(){var e,t,o,i,r=n.props,l=r.config,d=r.id,p=r.layout,h=null===(t=null===(e=l)||void 0===e?void 0:e.behavior)||void 0===t?void 0:t.vertical,g=null===(i=null===(o=l)||void 0===o?void 0:o.behavior)||void 0===i?void 0:i.onlyOpenOne,v=n.state.referenceNode,b=g?h?"right-start":"bottom":"bottom-start",m=[0,0],y=s.getWidgetIdsFromLayout(p);return a.React.createElement(c.MultiplePopper,{widgetIds:y,forbiddenZone:n.forbiddenZone,widgets:n.genarateWidgetInfos(),referenceNode:v,widgetId:d,placement:b,offset:m,container:"body",position:u,defaultSize:f,onClose:n.onWidgetPopperClose})},n.state={openedWidgets:[],referenceNode:null,start:0,end:1,openMobilePanel:!1},n.toggleMobilePanel=n.toggleMobilePanel.bind(n),n.mobilePanel=n.mobilePanel.bind(n),n.resizeDebounce=a.lodash.debounce(n.onRollLayoutResize.bind(n),100),n.wm=a.WidgetManager.getInstance(),n}return i(t,e),t.prototype.componentDidMount=function(){var e,t,n,o,i=this;if(this.forbiddenZone=this.domNode.getBoundingClientRect(),!this.props.isInBuilder){var r=null===(t=null===(e=this.props.config)||void 0===e?void 0:e.behavior)||void 0===t?void 0:t.openStarts,a=null===(o=null===(n=this.props.config)||void 0===n?void 0:n.behavior)||void 0===o?void 0:o.onlyOpenOne;r&&r.length&&(a?setTimeout((function(){var e,t=(e=r[0],document&&document.querySelector(".widget-controller .icon-list .avatar-card[data-widgetid='"+e+"']"));i.openWidgets(r),i.setState({openedWidgets:r,referenceNode:t})}),500):(this.openWidgets(r),this.setState({openedWidgets:r})))}},t.prototype.componentDidUpdate=function(e){var t=e.generation;this.props.generation!==t&&(this.closeOpeningWidgets(),this.setState({openedWidgets:[]}));var n=e.currentPageId,o=e.showInView,i=this.props,r=i.currentPageId,a=i.showInView;(r!==n||a!==o&&!a)&&this.closeOpeningWidgets()},t.prototype.toggleMobilePanel=function(){this.closeOpeningWidgets()},t.prototype.mobilePanel=function(){var e=this.getOpeningWidgets(),t=e&&e[0],n=this.getWidgetComponent(t),o=this.getWidgetTitle(t);return a.React.createElement(p.MobilePanel,{title:o,open:!!t,toggle:this.toggleMobilePanel},n)},t.prototype.render=function(){var e=this.props.mobile;return a.React.createElement(a.React.Fragment,null,e&&this.mobilePanel(),!e&&this.openWidgetsRenderer(),this.widgetIconList(),a.React.createElement(a.ReactResizeDetector,{handleWidth:!0,handleHeight:!0,onResize:this.resizeDebounce}))},t}(a.React.PureComponent);t._Widget=h;t.WidgetRuntime=a.ReactRedux.connect((function(e,t){var n=e.appConfig.widgets[t.id].layouts,o=a.appConfigUtils.getWidgetOrSectionContainerInfo(e.appConfig,t.id,a.LayoutItemType.Widget,e.browserSizeMode),i=e.appRuntimeInfo.currentViewIds||[],r=!0;o&&o.type===a.ContainerType.View&&(r=i.indexOf(o.id)>-1);var l=e.widgetsRuntimeInfo||a.Immutable({});return{isInBuilder:e.appContext.isInBuilder,widgetJsons:e.appConfig.widgets,mobile:e.browserSizeMode===a.BrowserSizeMode.Small,widgetsRuntimeInfo:l,theme:e.theme,currentPageId:e.appRuntimeInfo.currentPageId,showInView:r,layout:e.appConfig.layouts[a.utils.findLayoutId(n.controller,e.browserSizeMode,e.appConfig.mainSizeMode)],pageId:o&&o.type===a.ContainerType.Page?o.id:""}}))(h)},316:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l,s=n(3),d=n(44),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getStyle=function(){var e=t.props,n=e.space,o=e.vertical,i=s.polished.rem(n);return s.css(l||(l=r(["\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      .avatar-card {\n        &:not(:first-of-type) {\n            margin-top: ",";\n            margin-left: ",";\n          }\n      }\n    "],["\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      .avatar-card {\n        &:not(:first-of-type) {\n            margin-top: ",";\n            margin-left: ",";\n          }\n      }\n    "])),o?i:"unset",o?"unset":i)},t.filterList=function(e){var n=t.props,o=n.start,i=n.end;return(e=e||[]).slice(o,i)},t.createItem=function(e,n){var o=t.props,i=o.item,r=o.onClick,l=o.activeIds,c=a(a({},i),{avatar:a(a({},i.avatar),{active:l.indexOf(e)>-1})});return s.jsx(d.WidgetAvatarCard,a({key:n,widgetid:e,showMarker:!1},c,{onWidgetClick:function(t){return r(t,e)}}))},t}return i(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,i=t.lists,r=t.vertical,a=this.filterList(i);return s.jsx("div",{css:this.getStyle(),style:o,className:s.classNames("icon-list",{"flex-column":r},n)},a.map((function(t,n){return e.createItem(t,n)})))},t}(s.React.PureComponent);t.IconList=c},317:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),l=n(4),s=n(44),d=n(139),c={flip:{enabled:!0,padding:0},preventOverflow:{enabled:!0,boundariesElement:"viewport"}},p=15,u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClose=function(e){n.props.onClose(e)},n.getWidgetTitle=function(e){var t=n.props.widgetJsons;return t&&t[e]&&t[e].label},n.generatePopperHeader=function(e){var t=n.props.theme,o=n.getWidgetTitle(e);return a.jsx(s.PopperHeader,{className:"header popper-header",theme:t,text:o,onClose:function(){return n.handleClose(e)}})},n.gtePopperContent=function(e){var t=n.generatePopperHeader(e),o=n.getWidgetComponent(e);return a.jsx("div",{className:"popper-content"},t,o)},n.getWidgetComponent=function(e){var t,o=n.props.widgetsRuntimeInfo,i=o[e]&&o[e].isClassLoaded;if(i||n.wm.loadWidgetClass(e),i){var r=n.wm.getWidgetClass(e);t=a.jsx("div",{className:"widget-container"},a.jsx(r,null))}else t=a.jsx("div",null,"Loading...");return t},n.getReference=function(e,t){var o,i=n.props,r=i.config,a=i.referenceNode,l=i.position,s=i.forbiddenZone,c=(null===(o=r)||void 0===o?void 0:o.behavior)||{},p=c.displayType;if(c.onlyOpenOne)return a;if(n.virtualRefs[e])return n.virtualRefs[e];var u=null;return u=p===d.DisplayType.Stack?n.getStackReference(l,e,s,t):n.getSideBySideReference(l,e,s,t),n.virtualRefs[e]=u,u},n.getStackReference=function(e,t,o,i){var r,a,s,d,c=e.left,p=e.top,u=e.offset,f=n.state.size[t]||{},h=f.width,g=f.height;if(0===i)s=(r=c)+h,d=(a=p)+g;else{var v=n.referenceRectMap[i-1];s=(r=v.left+u)+h,d=(a=v.top+u)+g}var b=document.body.getBoundingClientRect(),m=n.handleOverlap.bind(n,t,e,b),y=n.preverntOverlap({left:r,right:s,top:a,bottom:d,width:h,height:g},o,m);r=y.left,a=y.top,s=y.right,d=y.bottom;var w=n.handleOutBoundary.bind(n,t,e,o);r=(y=n.preverntOutBoundry({left:r,right:s,top:a,bottom:d,width:h,height:g},b,w)).left,a=y.top,s=y.right,d=y.bottom,n.referenceRectMap[i]={width:h,height:g,left:r,top:a,right:s,bottom:d};var O={left:r,top:a,width:0,height:0};return new l.VirtualReference(O)},n.isOverlapp=function(e,t){return!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)},n.isOutBoundary=function(e,t){return!(e.right<=t.right&&e.left>=t.left&&e.bottom<=t.bottom&&e.top>=t.top)},n.preverntOutBoundry=function(e,t,o){return n.numberOfCallbacks++,n.numberOfCallbacks>p?(console.log("Number of cycles: "+n.numberOfCallbacks+" .In the current boundary, it is impossible to avoid the forbidden areas.\n      Maybe it's because the boundary is too small or the forbidden area is too large."),n.numberOfCallbacks=0,e):(n.isOutBoundary(e,t)&&(e=o(e),n.preverntOutBoundry(e,t,o)),e)},n.handleOutBoundary=function(e,t,o,i){var r=t.left,a=t.offset,l=t.space,s=n.state.size[e]||{},d=s.width,c=s.height,p=i.left,u=i.top,f=i.right,h=i.bottom;return f=(p=r)+d,h=(u+=a)+c,n.isOverlapp({left:p,top:u,right:f,bottom:h},o)&&(f=(p=o.right+l)+d),{left:p,right:f,top:u,bottom:h,width:d,height:c}},n.preverntOverlap=function(e,t,o){return n.numberOfCallbacks++,n.numberOfCallbacks>p?(console.log("Number of cycles: "+n.numberOfCallbacks+" .In the current boundary, it is impossible to avoid the forbidden areas.\n      Maybe it's because the boundary is too small or the forbidden area is too large."),n.numberOfCallbacks=0,e):(n.isOverlapp(e,t)&&(e=o(e,t),n.preverntOverlap(e,t,o)),e)},n.handleOverlap=function(e,t,o,i,r){var a=t.left,l=t.offset,s=t.space,d=n.state.size[e]||{},c=d.width,p=d.height,u=i.left,f=i.top,h=i.right,g=i.bottom;return h=(u=r.right+s)+c,n.isOutBoundary({left:u,top:f,right:h,bottom:g},o)&&(h=(u=a)+c,g=(f=r.bottom+l)+p),{left:u,right:h,top:f,bottom:g,width:c,height:p}},n.getSideBySideReference=function(e,t,o,i){var r,a,s,d,c=e.left,p=e.top,u=e.space,f=n.state.size[t]||{},h=f.width,g=f.height;if(0===i)s=(r=c)+h,d=(a=p)+g;else{var v=n.referenceRectMap[i-1];s=(r=v.right+u)+h,d=(a=v.top)+g}var b=document.body.getBoundingClientRect(),m=n.handleOverlap.bind(n,t,e,b),y=n.preverntOverlap({left:r,right:s,top:a,bottom:d,width:h,height:g},o,m);r=y.left,a=y.top,s=y.right,d=y.bottom;var w=n.handleOutBoundary.bind(n,t,e,o);r=(y=n.preverntOutBoundry({left:r,right:s,top:a,bottom:d,width:h,height:g},b,w)).left,a=y.top,s=y.right,d=y.bottom,n.referenceRectMap[i]={width:h,height:g,left:r,top:a,right:s,bottom:d};var O={left:r,top:a,width:0,height:0};return new l.VirtualReference(O)},n.onPopperCreate=function(e,t){var o,i=(e.styles.transform.match(/(\-?)\d+(\.\d+)?px/g)||[]).map((function(e){return+e.replace("px","")})),r=i[0],l=i[1],s=n.state.position;s=a.lodash.assign({},s,((o={})[t]={x:r,y:l},o)),n.setState({position:s})},n.getPopperInitPosition=function(e){return n.state.position[e]||{x:0,y:0}},n.onDragStop=function(e,t){var o,i=e.lastX,r=e.lastY,l=e.deltaX,s=e.deltaY,d=n.state.position;d=a.lodash.assign({},d,((o={})[t]={x:i+l,y:r+s},o)),n.setState({position:d})},n.getStyle=function(){return a.css(f||(f=r(["\n      touch-action: none;\n      .popper-content {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        .popper-header {\n          width: 100%;\n          flex-shrink: 0;\n          flex-grow: 0;\n          cursor: move;\n        }\n        .widget-container {\n          width: 100%;\n          flex-shrink: 0;\n          flex-grow: 1;\n          height: calc(100% - 48px);\n          overflow: auto;\n          padding: ",";\n        }\n      }\n    "],["\n      touch-action: none;\n      .popper-content {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        .popper-header {\n          width: 100%;\n          flex-shrink: 0;\n          flex-grow: 0;\n          cursor: move;\n        }\n        .widget-container {\n          width: 100%;\n          flex-shrink: 0;\n          flex-grow: 1;\n          height: calc(100% - 48px);\n          overflow: auto;\n          padding: ",";\n        }\n      }\n    "])),a.polished.rem(5))},n.numberOfCallbacks=0,n.wm=a.WidgetManager.getInstance(),n.referenceRectMap={},n.virtualRefs={},n.state={size:a.Immutable({}),position:{}},n.onResizeing=n.onResizeing.bind(n),n.popperOptions={},n}return i(t,e),t.prototype.componentDidMount=function(){var e,t,n=this.props,o=n.config,i=n.defaultSize,r=n.widgetIds,l=void 0===r?[]:r,s=a.Immutable({}),d=(null===(t=null===(e=o)||void 0===e?void 0:e.behavior)||void 0===t?void 0:t.size)||{};l.forEach((function(e){s=s.set(e,d[e]||i)})),this.setState({size:s})},t.prototype.getDefaultSize=function(e){var t,n,o=this.state.size,i=this.props,r=i.config,l=i.defaultSize,s=null===(n=null===(t=r)||void 0===t?void 0:t.behavior)||void 0===n?void 0:n.size,d=a.lodash.assign({},o,s),c=d&&d[e]||l;return[c.width,c.height]},t.prototype.componentDidUpdate=function(e){var t,n,o,i,r,a=this.props,l=a.position,s=(null===(t=a.config)||void 0===t?void 0:t.behavior)||{},d=s.displayType,c=s.onlyOpenOne;l===e.position&&d===(null===(o=null===(n=e.config)||void 0===n?void 0:n.behavior)||void 0===o?void 0:o.displayType)&&c===(null===(r=null===(i=e.config)||void 0===i?void 0:i.behavior)||void 0===r?void 0:r.onlyOpenOne)||(this.virtualRefs={})},t.prototype.onResizeing=function(e,t,n){var o=this.state.size;o=o.set(e,{width:t,height:n}),this.setState({size:o})},t.prototype.render=function(){var e=this,t=this.props,n=t.widgets,o=t.placement,i=t.offset,r=t.defaultSize,s=t.container,d=void 0===s?"body":s,p=this.state.size;return a.jsx(a.React.Fragment,null,n.map((function(t,n){var s=t.id,u=p[s]||r,f=u.width,h=u.height,g=e.getReference(s,n),v=e.gtePopperContent(s),b=e.getPopperInitPosition(s);return e.popperOptions.onCreate=function(t){return e.onPopperCreate(t,s)},a.jsx(l.Draggable,{key:s,position:b,onStop:function(t,n){return e.onDragStop(n,s)},bounds:"body",handle:".popper-header"},a.jsx(l.Popper,{css:e.getStyle,offset:i,open:!0,modifiers:c,reference:g,placement:o,container:d,popperOptions:e.popperOptions,className:a.classNames({"d-none":!t.show})},a.jsx(l.Resizeable,{onResize:function(t,n){return e.onResizeing(s,t,n)},minSize:[150,80],width:f,height:h},a.jsx("div",{style:{width:f,height:h},className:"border bg-white shadow rounded"},v))))})))},t.defaultProps={offset:[0,0],defaultSize:{width:300,height:300},onClose:function(){},forbiddenZone:{}},t}(a.React.PureComponent);t._MultiplePopper=u;var f;t.MultiplePopper=a.ReactRedux.connect((function(e,t){return{theme:e.theme,widgetJsons:e.appConfig.widgets,config:e.appConfig.widgets[t.widgetId].config,widgetsRuntimeInfo:e.widgetsRuntimeInfo}}))(u)},318:function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.DEFAULT_CONFIG={behavior:{onlyOpenOne:!0,openStarts:[],displayType:"STACK",vertical:!1,size:{}},appearance:{space:10,advanced:!1,card:{showLabel:!1,avatar:{type:"primary",size:"default",shape:"circle"}}}};var a=function(e){return"SMALL"===e?"sm":"MEDIUM"===e?"default":"LARGE"===e?"lg":e},l=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.versions=[{version:"1.0.0",description:"The first release.",upgrader:function(e){if(!e)return t.DEFAULT_CONFIG;if(e.behavior&&e.appearance)return e;var n=e;return e.behavior||(n=(n=(n=(n=(n=(n=n.setIn(["behavior","openStarts"],[])).setIn(["behavior","onlyOpenOne"],e.onlyOpenOne)).setIn(["behavior","displayType"],e.displayType)).setIn(["behavior","vertical"],e.vertical)).setIn(["behavior","size"],e.size)).without(["onlyOpenOne","displayType","size"])),e.appearance||(n=n.setIn(["appearance","advanced"],!1),n=(n=(n=(n=(n=(n=e.vertical?n.setIn(["appearance","space"],e.space):(n=n.setIn(["appearance","space"],10)).setIn(["appearance","card","labelGrowth"],e.space)).setIn(["appearance","card","showLabel"],e.showLabel)).setIn(["appearance","card","avatar","size"],a(e.iconSize))).setIn(["appearance","card","avatar","shape"],e.iconStyle)).setIn(["appearance","card","avatar","type"],"primary")).without(["space","showLabel","iconSize","iconStyle","vertical"])),n}}],n}return i(n,e),n}(r.BaseVersionManager);t.versionManager=new l},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MOCK_LAYOUT_ORDER_NAME="ADD",t.DROP_ZONE_PLACEHOLDER_WIDTH=5,t.BASE_LAYOUT_NAME="controller",t.CONTAINER_LAYOUT_NAME="_openwidget",t.MIN_WIDGET_WIDTH=150,t.MIN_WIDGET_HEIGHT=50,t.BASE_POPPER_INDEX=21,t.ARROW_ICON_SIZE=20,t.ADD_WIDGET_SIZE=30,t.LABEL_HEIGHT=21,t.WIDGET_ITEM_SIZES={sm:24,default:32,lg:48}},33:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7 8.684l5.125-5.052a.814.814 0 011.14 0 .786.786 0 010 1.123l-5.696 5.613a.814.814 0 01-1.138 0L.736 4.755a.786.786 0 010-1.123.814.814 0 011.139 0L7 8.684z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},39:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M8.784 7L3.732 1.875a.814.814 0 010-1.14.786.786 0 011.123 0l5.613 5.696c.31.314.31.824 0 1.138l-5.613 5.695a.786.786 0 01-1.123 0 .814.814 0 010-1.139L8.784 7z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},4:function(e,n){e.exports=t},40:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7.745 7l4.1 4.1a.527.527 0 01-.745.746L7 7.746l-4.1 4.1a.527.527 0 01-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 01.746-.746l4.1 4.1 4.1-4.1a.527.527 0 01.746.746L7.746 7z" fill="#000"></path><path d="M1 1h12v12H1z"></path></g></svg>'},44:function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(135);t.RollList=i.RollList;var r=n(136);t.Placeholder=r.Placeholder,o(n(137)),o(n(138)),o(n(62))},55:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7 5.316l-5.125 5.052a.814.814 0 01-1.14 0 .786.786 0 010-1.123l5.696-5.613a.814.814 0 011.138 0l5.695 5.613a.786.786 0 010 1.123.814.814 0 01-1.139 0L7 5.316z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},56:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0a.75.75 0 01.75.75v6.5h6.5a.75.75 0 110 1.5h-6.5v6.5a.75.75 0 11-1.5 0v-6.5H.75a.75.75 0 110-1.5h6.5V.75A.75.75 0 018 0z" fill="#000" fill-rule="evenodd"></path></svg>'},62:function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),l=n(4),s=n(32);t.getItemLength=function(e,t,n){var o=s.WIDGET_ITEM_SIZES[e];return t&&(o+=s.LABEL_HEIGHT),o+=2*c(e,n)};var d,c=function(e,t){return"circle"===t?"sm"===e?4:"default"===e?2:"lg"===e?0:void 0:6};t.AvatarCard=function(e){var n,s,p=e.label,u=e.className,f=e.title,h=e.widgetid,g=e.showLabel,v=e.labelGrowth,b=void 0===v?0:v,m=e.icon,y=e.marker,w=e.onMarkerClick,O=e.innerRef,x=e.avatar,_=e.autoFlip,I=r(e,["label","className","title","widgetid","showLabel","labelGrowth","icon","marker","onMarkerClick","innerRef","avatar","autoFlip"]),j=x||{},P=j.shape,R=j.style,C=j.active,S=r(j,["shape","style","active"]),M=null===(n=S)||void 0===n?void 0:n.size,W=a.React.useCallback((function(){var e=t.getItemLength(M,g,P),n=e+b,i=c(M,P);return a.css(d||(d=o(["\n      display: flex;\n      align-items:center;\n      flex-direction: column;\n      justify-content: ",";\n      width: "," !important;\n      height: ",";\n      .avatar {\n        padding: ","px;\n        position: relative;\n        text-align: center;\n        .marker {\n          position: absolute;\n          right: 0;\n          top: 0;\n          padding: 0;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      }\n      .avatar-label {\n        text-align: center;\n        width: 100%;\n        min-height: ",";\n      }\n    "],["\n      display: flex;\n      align-items:center;\n      flex-direction: column;\n      justify-content: ",";\n      width: "," !important;\n      height: ",";\n      .avatar {\n        padding: ","px;\n        position: relative;\n        text-align: center;\n        .marker {\n          position: absolute;\n          right: 0;\n          top: 0;\n          padding: 0;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      }\n      .avatar-label {\n        text-align: center;\n        width: 100%;\n        min-height: ",";\n      }\n    "])),g?"space-around":"center",a.polished.rem(n),a.polished.rem(e),i,a.polished.rem(21))}),[M,g,P,b]);return a.jsx("div",i({},I,{ref:O,css:W(),"data-widgetid":h,className:a.classNames("avatar-card",u)}),a.jsx("div",{className:"avatar"},!!y&&a.jsx(l.Button,{size:"sm",icon:!0,onClick:w,className:"marker"},a.jsx(l.Icon,{size:10,icon:y})),a.jsx(l.Button,i({icon:!0,active:C,title:f||p,className:"avatar-button"},S,{style:i({borderRadius:"circle"===P?"50%":void 0},R)}),a.jsx(l.Icon,{color:"string"!=typeof m&&(null===(s=m.properties)||void 0===s?void 0:s.color),icon:"string"!=typeof m?m.svg:m,autoFlip:_}))),g&&a.jsx("div",{title:p,className:a.classNames("avatar-label text-capitalize text-truncate",{active:C})},p))}},73:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.598L14.308.29a.991.991 0 011.402 1.402L9.402 8l6.308 6.308a.991.991 0 01-1.402 1.402L8 9.402 1.692 15.71A.991.991 0 01.29 14.308L6.598 8 .29 1.692A.991.991 0 011.692.29L8 6.598z" fill="#000" fill-rule="nonzero"></path></svg>'},74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_widgetLabel:"Widget Controller",placeholder:"Drag widget here",addWidget:"Add widget",moveOrRemoveWidget:"Move/Remove widget"}},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(32);t.toggleOpenedWidgets=function(e,n,i){return n&&(e=t.updateOpenedWidgetDisplay(e,!1)),t.getOpenedWidget(e,i.id)?e.filter((function(e){return e.id!==i.id})):e.concat(o.Immutable(i))},t.updateOpenedWidgetDisplay=function(e,t){return e.map((function(e){return e.set("show",t)}))},t.toggleOpenedWidgetsDisplay=function(e,t,n){var o;return o=e.map((function(e){return e.id===n?e.set("show",!e.show):e})),t&&(o=o.map((function(e){return e.id!==n?e.set("show",!1):e}))),o},t.getOpenedWidget=function(e,t){return e.find((function(e){return e.id===t}))},t.getWidgetIdsFromLayout=function(e){return(e.order&&e.order.asMutable()||[]).map((function(t){return e.content[t]&&e.content[t].widgetId}))},t.getLayoutItemCounts=function(e){return(t.getWidgetIdsFromLayout(e)||[]).length},t.getRollListLength=function(e,t,n){return n?t:e},t.getOneScreenNumber=function(e,t){return Math.floor(e/t)},t.getListContentLength=function(e,n,o,r,a){return a=a||0,t.getRollListLength(e,n,o)+r-2*i.ARROW_ICON_SIZE-a},t.calculateStartEnd=function(e,t,n){var o,i;return t<1&&(t=1),n?[o=(o=(i=e)-t)<0?0:o,i]:[o=e,i=o+t]},t.calculateRollListState=function(e,t,n){return{showArrow:t-e<n,disablePrevious:0===e,disableNext:t>=n}},t.onListArrowClick=function(e,t,n,o,i){if(void 0===i&&(i=!0),!t)return[0,1];var r=i?1:o-n;return[n=(n=e?n-r:n+r)<0?0:n,o=e?o-r:o+r]},t.correctionOffset=function(e,t,n){if(e<0){var o=Math.abs(e);e=0,t+=o}else if(e+t>n){e=e-(o=t-n)<0?0:e-o,t=t-o<1?1:t-o}return[e,t]},t.calInsertPositionForRow=function(e,t,n){var o,i,r=t.left+t.width/2,a=!1;if(n.some((function(e,t){if(e.left+e.width/2>r){if(0===t)o=e.left/2;else{var l=n[t-1];o=(e.left+l.left+l.width)/2}a=!0,i=e.id}return a})),!a){var l=n[n.length-1];o=(l.left+l.width+e.width)/2}return{insertX:o,refId:i}},t.calInsertPositionForColumn=function(e,t,n){var o,i,r=t.top+t.height/2,a=!1;if(n.some((function(e,t){if(e.top+e.height/2>r){if(0===t)o=e.top/2;else{var l=n[t-1];o=(e.top+l.top+l.height)/2}a=!0,i=e.id}return a})),!a){var l=n[n.length-1];o=(l.top+l.height+e.height)/2}return{insertY:o,refId:i}}}})}));